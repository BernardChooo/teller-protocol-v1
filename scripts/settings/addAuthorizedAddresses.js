// Util classes
const { teller } = require("../utils/contracts");
const Accounts = require("../utils/Accounts");
const { settings: readParams } = require("../utils/cli-builder");
const ProcessArgs = require('../utils/ProcessArgs');
const { SENDER_INDEX } = require('../utils/cli/names');
const processArgs = new ProcessArgs(readParams.addAuthorizedAddressList().argv);

// Authorized addresses
const addressesToAdd = ["0xa243A7b4e9AF8D7e87a5443Aa7E21AB27624eaaA","0x592000b2c8c590531d490893C16AfC4b9cbbe6B9","0x70B9997F00fE9D046c49f3d88dC63314d47cbF8F","0x8e4933D9d82c1486F47808a761B2C21D1A0C3328","0xABFd3fcC3686023a5bF8930216459A401b6Ff7F3","0x446A632754Ac4F68DCe8263AeC7fE4100392E873","0xbd6179255d42Ff55c40D8AAF5070691B42A023Be","0xd58Ca11FEaC2C928AC0adE003b77e53BB3692642","0xA97f7aB182F676Fa809Ee7bC13639B1bd297a2dD","0xD86e85b784A54bc64B81AacD7A5BF2170d4Ed23d","0xd965Cd540d2B80e7ef2840Ff097016B3A0e930fC","0xd2D51756000cA98218f8F11031497d4c81910C57","0x585dF39349B8447Fd74347bc4FAD5623aB003c97","0x91D1DB2bC8FD8F6Bed72B160AeddB22019560223","0x5e22C83de46fC9087C44FDFe849F44AE86C49CF2","0x0C25078Bf9F87E804738301e15047A6F3A646473","0xC8D46eb7881975F9aE15216FeEBa2ff58E55803c","0x28Ab242e7E3AC7dc146EEA88f576913B4c68F2DF","0xbe56b6392DAbfEA883a512f3512C475221000000","0x2BDf6A6b0BF03de3b272ac6cd749950780e46608","0x23559eB3004545baBA92b7b9fA2EB2B40611fB3F","0x245bD2d5dDde8a6295E5182d783102Da413F773F","0x4CAe5BED586f6E73Ae54EbD40A4AC4eD2c477C34","0x8eBed0FF2B0232B0AedbFe6e9c0f72AC72577869","0xAe6ecA6b0836e37d270722Ba81bB2EcacB674b08","0x81aFcF6Dd79897cBa488471eCEc2f41BF3f7CA9B","0xDDe3e2024e270d6022d1bb4E8745e9DC6d82e0bc","0xb2986Fd5aC1B4F82C51A05cb07250D4D4a8f9F7F","0xE4369C93E3E02529a11FC3F2d92b33D1c8efF2fc","0x56EE5F76aC69eC57c3cc927C9fE6F55156E09689","0xE1534865F30cE4829DC4A365B7006E5bb30488ea","0xA6c35B68B53AC162926a0b3C1d283bdb286C6313","0x5bDfb7C2Ab54C39665d54a1CB255B0dA5F5CcEbd","0xDEB8bFd019e84C141A01e192A73701B9BCa9059C","0x1BbbcA5ec8754991dBBC782b906D460e121DfC8a","0x5BC675Bb420b36848fA497dEc37d23dC1213Ae1e","0x520531a6AEe34468a3503d3d3E03e245FbfAaC73","0xb8fAF03a268F259dDD9adfAf8E1148Fc81021e54","0xEa2Abee99227196e44AAF5CbB9b768b99eCfd6df","0x332764E201B4043B42A64108353e5d0075eb9D08","0x82303f1FABE028dc0Addff1BC76F855635f8cB66","0xAcb272Eac895FA57394747615fCb068b8858AAF2","0x5C10C47B2D848e06a5DffA45B3bc10860797cDAd","0xf930b0a0500d8f53b2e7efa4f7bcb5cc0c71067e","0xb25ABc9DaB14BF5bB721745CC4291eaFa4Da9739","0x9834FfC2608b066b5ceb57d00d11596866666666","0xb68F52FE2583b5a568E7E57dc98c69d93821f6e4","0xf7191034Ca0A4dFdFDA3dB160C92d06D361A5366","0x0998160bdF3Ff6D86A4E9D5c31e0eFC3Ca7e7D01","0x6B853955F54BEcaECDBeabAaAA96Dcd35E4A1577","0x48189C706e23Eb427DE1B62339Bb66A6bfE018E8","0x99391C6F4d33DdaC56E0856Db4eF0013851031bD","0x69fe2BADd12F4515AAF99E3a9956b9fFaE56f877","0xcFf67CaA3C5e9A5f2267BA7D6ACAe35d6206296e","0x42D2184dac8580e6224b361A36CA3a917F7EA67b","0x1874EE502a81D220Cedb835B3C66fa9E9175FdaD","0x36bD8baf123EA4C05642488C017c0D71263554fA","0xe1627E7a4cF42DA1b867ee7f69feA43893537b87","0xB4649484E2E3c4f1B689f9dF327c2248b8203EB4","0x7c74F84ab9d211b0aD306fd793c593B744135c49","0xe5A3F1e72D1dFa5C361516AC2779E9602106fEa6","0x7b80f8F77a37534dE8085B56A9eda3E4412BFeFf","0xD0e929ea70A916E53b4606D7EA5280cB0ddAf7D1","0x0f3e87d90163db1f5c48a4c474a58f258bff67aa","0xd07d1747e9e9fcab8f19dda1728a87841d96efd0","0x3243bd44655e01874c000fc082914d9287bc0f0e","0xda7fd84beb1cd6474295b0292c1d1900a1d08a37","0xc940541dceecd4eaaeec2c13e073633f40409501","0x423864230f250f146bed3d9a5c6ea19e21be4e71","0x3882944e1e1dd78b15631a85cf8daadbfc4237ac","0x7eb883d59c7f6d6fa8a5f81a7b8479ff4506a88a","0xdf12238f2a01f74140769724ef89aed88c6044aa","0xeeb5d6bb4624a19f0fca56b5ba3a677e50d701ec","0x4e8EF2e11A8056A75b0aAc2d313202Bea4016eB0","0xBf299C79A2752F9945198B6Ab48237De20f9C063","0x68E8697AB23d7C74568D95C09862b95869C70dc2","0x4c0DC41E82a9da9162bE29B379687C648AEe4388","0xFdAee12f233aBE1f31Fe45d83d379c9f86EA897d","0x07419992d4483CD3719c9F50946a12090bf1C94C","0x107da337610fbE412a26B532214B73EFe03653a0","0xe9f7f3157aa0f51a5548dca1c72f6414d613fae2","0x77Dfff19f2101B41f32ea5aece85f0c7EE1CBcCE","0x370d774c4b6f9d8cf7e27d7b0d0289241dffcf9d","0x149e119edc85378038399c4869333ff056fa6bd0","0x0c4e8920d8cb3a1f9b08cae76b85fdd8f93949cd","0x7553fa99AB1f429551eeC660708C08E14E30584F","0xa0c41ebc2c33afeb582a03f31be47df7a3a69c24","0x60d9461d396686bf0ea689768039556e50471e13","0xa5e9384665495d731479c0ace1e4c85e194dd2de","0x11cf1fbbbdf0bc4528ae728bf99fcbf69c9d3eaa","0x5e6b627719bcaf616963d956e4704af7296bfc86","0x6312B0d0700a093679dB2A9702761cB6feCE84bC","0x7e354b2123fc2d882585b207e1484ae8e4230ff1","0xc48ca2f848b7c7250de6521908583a501a774fbe","0x686e1d0094e49a57a1fc99a7e5c95ad1daf90180","0x33b5faabf4bde33b66a285ba4b13c999737bfce1","0xc47feced160cf52eeabd777bdb63fc2150733e29","0x3f9a35b1d01353d2a3bc93962a32d8e606372d55","0x2893f57f8e68d51922cc3c593ea935b45311d059","0xcb0656a6d8f705e7d1289cbb63de7235f7c32067","0x2d409b74db75be650cc36E53192fDF7AAEc35002","0x72fed2ffec94a5357c6da92c2929279dfaa98bf3","0x021f2378de3340b60ae0897C63148D9De427ED3f","0xFdb70Ef773D18B12373943dEcaa0ed123d882641","0x569541E7D1cf0131D3f5F98a3757f4F9964A82D1","0xBe88DF2909a69a333C1B2338cCeEda82d69bF13D","0x8122158AaabA26eA9e6fB3eD2dfe3fb6B4D9Bd32","0x38148eCC2078dA7f65E6233DDA28eFaf4C51E96F","0xbb957b1563745fc9564a072a7975fe618b624180","0x57cfB1137fFeFa3bCecE1eEcE27c8C949e3Ba450","0x90e8481B131bd70847152627C795e897a786eCa5","0xB048EeAC9fdA349e4e642FEE407d812851D6983f","0x6c0535a0a0c1773641026A46DE438034A4562972","0xF88add785729054D38aa6d6231aa6d15C841C5B3","0xbC9EC4665987fC80171A79478BE3BcB71F50758B","0x829841B56bE6b713d7c7dfe33E6A66b7a2cA9C2A","0x81BE9ECC60B0B991BF8F91af9bdF4240D07f64a6","0xbCAFD7a10F18B873653f18f0021Ac0bd64B122bc","0x71535AAe1B6C0c51Db317B54d5eEe72d1ab843c1","0x0a567f0f3780df56d5f9A098FffF7a42383d7c88","0x9b616Ac1D31F17Be9B23560d93699cA7732e2808","0xe507503c4A0D2c9c77b45bfA3b8B35c360859ce8","0x20B1B92D96Ec50320c3b920bD1C1383c4faEC270","0x8037E458f3A69b19F510cB273aF8fD517ce18571","0x2C2e4D914DB0e69F40C268D07966765Ac5FD98F8","0x9273911069d85E827248a1f4E144B7F80071f9cC","0x2778bD576d957FCC638f384F7A0b8f68bc0bB266","0xf0c1942F2B2ea2ddC81b251Da3eC1DE9Bd942E11","0xb2b41F5a6DE513d8264c93A078124FE397048d2D","0x9dDE0d02627e3C96B6b3126628da7279ec536322","0x07c06108c6bDd4f02a960E14433077DF759aD694","0xCA72D1d192E4A40c8919276925F803C72118a64A","0x31A549A0061d502087C82d585c5FF3307284201D","0xB2c48B8D730c8d8483DF8e78a21D07da721686e5","0xAa0d30Cbf8c4C74406B6bC24EdE974fEfcFCDC80","0x4C0432936baF6F9C761658bd1D51914Ce975DC2C","0x0106f99d6BC0B0dBC45b08e71c84ef01BF9D8a8e","0x6D79CDbcC092b061f56A039d33A9c22309c31bb3","0xDA7577BA252506CB16008A3DA10a62E9e982B3Da","0x68Ecf49eCce2E31286DdfF1d0Ea4e0Bc5Ea4F87D","0x8c09CF77185734b7525092EF8eFBB77Cf7E5c896","0x0c23beAe5CE5D3DCe096c18e492C5B532cDAbB3b","0x47B5579b5d6304Ae499967B427113A34D39A4dB7","0xAE941B1D3A82DbcCD3cCd1c86428Bfa96fDf28B0","0xA1e904cc6AFD0F6504c21d99155DdBf95102aE5E","0xa4B9cd2488c819c653ea97438392918e514582A2","0x33D33A4d08595df4f2f819a6897DC878f374D4a9","0x952c052EBb3be94DFaCe4B77C3eD55284254328d","0x1B5253860d947b437CF9D14459106854ef426782","0x81291eF480a9329927C5273105833a690082aA6A","0x308A2A9513faF98faA930508d9630fE21Fb889b4","0x5ADe0b73135d1456dBaa3CdE56c5dAd68d265F2e","0x9C209C3D07b1b528c86A253d0680B84E4FD0cBef","0xfCfA3389103E766aaC000CBBD2eF9dE387A42e8d","0xc923c31F199009407c83c15ae6ff1e85294c8660","0x3E9c2Ee838072b370567efC2DF27602d776B341c","0x14a6f2245a811085A5101308fdFD0ceaD4fD7048","0x7F12B702EeBf1076366a7f2B77526d0b2Fb8e64b","0x83D3398A502506018b4B5cf3e9E7b5f22ee13140","0xeFFF9f68c79088D1efeEA73b03c84Ee422F09af2","0xA50341f5e72eD061cD0adbD338cbF070DC45784C","0x8d13b1741B178aab0af7a93C13405E767EFF6b34","0xd820fC48BB68528c80e751a05CE506666AFaf6fb","0x237EB4577C3C83b4fC5043a995Bc1481DB9dAA87","0x11b67a503B3B702104EeeF69a4eA1365D0F2c658","0xCD7f6b72049C3b54416f9F26392cB271e74ca3FD","0x0Ae3d5949202165584A270cbac7A733b0307a766","0x7565DEdDCB83a14B185eb9520914bB918cDfE983","0x9a6bB5D6A2EF968dA3C12634EBEa2615Dc7d4BB5","0x049808d5EAA90a2665b9703d2246DDed34F1EB73","0x3cf4C9878547ffA14e1036F698b7080989785625","0x9a3dAb4a115659fb0D22B3dAb4A18E98005bb4c3","0x078E88E465f2a430399E319d57543A7A76E97668","0x3D0499747F64A115A11Cf70AC427472E8984AD50","0x2d6Ad743CC3D0D55EcB49eC7FA7bE40a3308e1Bf","0x65cac1fc7489f7b08156e2e95db4cb35c7c29b4f","0x39c1870D325A744b01B0521D65C3A527C2724cea","0x3C6cC2Ae33383c79fdeDCcA28dc3248eD38654F6","0x80DCfc3120eAf705E869fBe59232Ea731F77C551","0x36aB2c824FCc7e4EC8dC2805bdA069d9d8b54c95","0x6eA1B26b830dC35D37557674a3165F19fe717f9D","0xB68c94e2eb571c6BD6B404723d9D52E70B6E746B","0x9Cc70364772c90b2244aDC5a940809758fAf95a5","0xB0de16e4a22bb624414d5baa0d3626C10e936d50","0x467ba34f54a780eF0C2b9BE535250DA8b65B0Eaa","0xADc0C7f8C73558aBc6d3A975b3179D878A774132","0x9acAebbca7A547a71e456e14267d6dE8495B0Ba8","0x0604b9F31820391f308f937dE7f693Db10211F6A","0xEFde6a97AF618AD407211C3D5d494BC257948208"];

module.exports = async (callback) => {
  try {
    const accounts = new Accounts(web3);
    const getContracts = processArgs.createGetContracts(artifacts);
    const appConf = processArgs.getCurrentConfig();
    const { toTxUrl } = appConf.networkConfig;
    const senderIndex = processArgs.getValue(SENDER_INDEX.name);

    const settings = await getContracts.getDeployed(teller.settings());

    const senderTxConfig = await accounts.getTxConfigAt(senderIndex);

    const result = await settings.addAuthorizedAddressList(addressesToAdd, senderTxConfig);

    console.log(toTxUrl(result));
    console.log('>>>> The script finished successfully. <<<<');
    callback();
  } catch (error) {
    console.log(error);
    callback(error);
  }
}
